<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Search-n-Score – Demo</title>
  <link rel="stylesheet" href="default.css">
  <link rel="stylesheet" href="shared/styles.css">
  <script src="shared/common.js"></script>
  <style>
    h1   { margin-top: 0; }
    label { font-weight: 600; }
    select { width: 100%; padding: .5rem; margin: .5rem 0 1rem; background: var(--input-bg); color: var(--text-color); border: 1px solid var(--border-color); }
    select#temperature, select#context, select#tokens { width: auto; display: inline-block; margin: 0 .5rem; }
    textarea { width: 100%; height: 6rem; margin: .5rem 0 1rem; background: var(--input-bg); color: var(--text-color); border: 1px solid var(--border-color); }
    button { padding: .5rem 1rem; }
    #output { white-space: pre-wrap; margin-top: 2rem; background: var(--card-bg); padding:1rem; border-radius:6px; transition: background-color 0.3s; }
    .score-table { border-collapse: collapse; margin-top: 1rem; }
    .score-table th, .score-table td { border: 1px solid var(--border-color); padding: .4rem .6rem; text-align:center; }
    .score-table th { background: var(--card-bg); }
    
    [data-theme="dark"] h3, [data-theme="dark"] h4 {
      color: #87ceeb;
    }
    
    [data-theme="dark"] .score-table th, [data-theme="dark"] .score-table td {
      color: var(--text-color);
      background: var(--card-bg);
    }
    
    [data-theme="dark"] .score-table th {
      color: #87ceeb;
    }
  </style>
</head>
<body>
  <div id="header-placeholder"></div>

  <div class="page-content">
    <h1>Search-n-Score</h1>


  <form id="searchForm">
    <label for="sourceType">Source Type:</label><br />
    <select id="sourceType">
      <option value="">Loading...</option>
    </select><br />
    
    <div id="collectionSection" style="display: none;">
      <label for="collection">Collection:</label><br />
      <select id="collection">
        <option value="">Loading collections...</option>
      </select><br />
    </div>
    
    <label for="model">Model:</label><br />
    <select id="model" required>
      <option value="">Loading models...</option>
    </select><br />
    
    <label for="assistantType">Assistant Type:</label><br />
    <select id="assistantType">
      <option value="">Loading system prompts...</option>
    </select><br />
    
    <label>Model Options:</label>
    <label for="temperature">Temperature:</label>
    <select id="temperature">
      <option value="">Loading...</option>
    </select>
    
    <label for="context">Context:</label>
    <select id="context">
      <option value="">Loading...</option>
    </select>
    
    <label for="tokens">Tokens:</label>
    <select id="tokens">
      <option value="">Loading...</option>
    </select><br /><br />

    <label for="userPrompts">User Prompts:</label><br />
    <select id="userPrompts">
      <option value="">Loading...</option>
    </select><br />
    
    <label for="query">Enter your prompt:</label><br />
    <textarea id="query" required placeholder="Ask me anything or select from User Prompts above…"></textarea><br />

    <div style="display: flex; gap: 2rem; align-items: center;">
      <label>
        <input type="checkbox" id="scoreToggle" />
        Generate scores
      </label>
      
      <label id="showChunksLabel" style="display: none;">
        <input type="checkbox" id="showChunksToggle" />
        Show source chunks
      </label>
    </div><br />

    <button type="submit">Submit</button>
  </form>

  <section id="output"></section>

  <div id="exportSection" style="display: none; margin-top: 1rem; padding: 1rem; background: var(--card-bg); border-radius: 6px; border: 1px solid var(--border-color);">
    <label for="exportFormat">Export Format:</label>
    <select id="exportFormat" style="background: var(--input-bg); color: var(--text-color); border: 1px solid var(--border-color);">
      <option value="pdf">Printer/PDF</option>
      <option value="markdown">Markdown</option>
      <option value="json">JSON</option>
      <option value="database">Database</option>
    </select>
    <button type="button" id="exportBtn" style="background: var(--input-bg); color: var(--text-color); border: 1px solid var(--border-color);">Export</button>
  </div>

  </div>
  
  <div id="footer-placeholder"></div>
  <script type="module" src="./search.js"></script>
</body>
</html>
